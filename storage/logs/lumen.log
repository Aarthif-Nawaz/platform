[2017-12-08 00:44:21] lumen.ERROR: Aura\Di\Exception\ServiceNotFound: session.user in /home/vagrant/Code/platform-api/vendor/aura/di/src/Container.php:284
Stack trace:
#0 /home/vagrant/Code/platform-api/src/Init.php(37): Aura\Di\Container->get('session.user')
#1 /home/vagrant/Code/platform-api/app/Http/Controllers/API/IndexController.php(29): service('session.user')
#2 [internal function]: Ushahidi\App\Http\Controllers\API\IndexController->index()
#3 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(29): call_user_func_array(Array, Array)
#4 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(87): Illuminate\Container\BoundMethod::Illuminate\Container\{closure}()
#5 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(31): Illuminate\Container\BoundMethod::callBoundMethod(Object(Laravel\Lumen\Application), Array, Object(Closure))
#6 /home/vagrant/Code/platform-api/vendor/illuminate/container/Container.php(549): Illuminate\Container\BoundMethod::call(Object(Laravel\Lumen\Application), Array, Array, NULL)
#7 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(373): Illuminate\Container\Container->call(Array, Array)
#8 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(339): Laravel\Lumen\Application->callControllerCallable(Array, Array)
#9 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(313): Laravel\Lumen\Application->callLumenController(Object(Ushahidi\App\Http\Controllers\API\IndexController), 'index', Array)
#10 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(275): Laravel\Lumen\Application->callControllerAction(Array)
#11 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(260): Laravel\Lumen\Application->callActionOnArrayBasedRoute(Array)
#12 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(160): Laravel\Lumen\Application->handleFoundRoute(Array)
#13 [internal function]: Laravel\Lumen\Application->Laravel\Lumen\Concerns\{closure}(Object(Illuminate\Http\Request))
#14 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#15 /home/vagrant/Code/platform-api/vendor/barryvdh/laravel-cors/src/HandlePreflight.php(46): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#16 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(149): Barryvdh\Cors\HandlePreflight->handle(Object(Illuminate\Http\Request), Object(Closure))
#17 [internal function]: Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#18 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#19 /home/vagrant/Code/platform-api/vendor/barryvdh/laravel-cors/src/HandleCors.php(37): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#20 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(149): Barryvdh\Cors\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#21 [internal function]: Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#22 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#23 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(102): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#24 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(410): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#25 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(166): Laravel\Lumen\Application->sendThroughPipeline(Array, Object(Closure))
#26 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(107): Laravel\Lumen\Application->dispatch(NULL)
#27 /home/vagrant/Code/platform-api/public/index.php(28): Laravel\Lumen\Application->run()
#28 /home/vagrant/Code/platform-api/httpdocs/index.php(4): include('/home/vagrant/C...')
#29 {main}  
[2017-12-08 00:46:38] lumen.ERROR: LogicException: Key path "file:///home/vagrant/Code/platform-api/storage/passport/oauth-public.key" does not exist or is not readable in /home/vagrant/Code/platform-api/vendor/league/oauth2-server/src/CryptKey.php:45
Stack trace:
#0 /home/vagrant/Code/platform-api/vendor/laravel/passport/src/PassportServiceProvider.php(234): League\OAuth2\Server\CryptKey->__construct('file:///home/va...', NULL, false)
#1 /home/vagrant/Code/platform-api/vendor/laravel/passport/src/PassportServiceProvider.php(218): Laravel\Passport\PassportServiceProvider->makeCryptKey('oauth-public.ke...')
#2 /home/vagrant/Code/platform-api/vendor/illuminate/container/Container.php(749): Laravel\Passport\PassportServiceProvider->Laravel\Passport\{closure}(Object(Laravel\Lumen\Application), Array)
#3 /home/vagrant/Code/platform-api/vendor/illuminate/container/Container.php(631): Illuminate\Container\Container->build(Object(Closure))
#4 /home/vagrant/Code/platform-api/vendor/illuminate/container/Container.php(586): Illuminate\Container\Container->resolve('League\\OAuth2\\S...', Array)
#5 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Application.php(230): Illuminate\Container\Container->make('League\\OAuth2\\S...', Array)
#6 /home/vagrant/Code/platform-api/app/Providers/PassportServiceProvider.php(80): Laravel\Lumen\Application->make('League\\OAuth2\\S...')
#7 [internal function]: Ushahidi\App\Providers\PassportServiceProvider->Ushahidi\App\Providers\{closure}(Object(Illuminate\Http\Request), NULL)
#8 /home/vagrant/Code/platform-api/vendor/illuminate/auth/RequestGuard.php(58): call_user_func(Object(Closure), Object(Illuminate\Http\Request), NULL)
#9 /home/vagrant/Code/platform-api/app/Tools/LumenSession.php(29): Illuminate\Auth\RequestGuard->user()
#10 /home/vagrant/Code/platform-api/src/Core/Traits/UserContext.php(44): Ushahidi\App\Tools\LumenSession->getUser()
#11 /home/vagrant/Code/platform-api/src/Core/Tool/Authorizer/ConfigAuthorizer.php(57): Ushahidi\Core\Tool\Authorizer\ConfigAuthorizer->getUser()
#12 /home/vagrant/Code/platform-api/src/Core/Tool/AuthorizerTrait.php(49): Ushahidi\Core\Tool\Authorizer\ConfigAuthorizer->isAllowed(Object(Ushahidi\Core\Entity\Config), 'search')
#13 /home/vagrant/Code/platform-api/src/Core/Tool/AuthorizerTrait.php(69): Ushahidi\Core\Usecase\Config\SearchConfig->verifyAuth(Object(Ushahidi\Core\Entity\Config), 'search')
#14 /home/vagrant/Code/platform-api/src/Core/Usecase/Config/SearchConfig.php(70): Ushahidi\Core\Usecase\Config\SearchConfig->verifySearchAuth(Object(Ushahidi\Core\Entity\Config))
#15 /home/vagrant/Code/platform-api/app/Http/Controllers/RESTController.php(214): Ushahidi\Core\Usecase\Config\SearchConfig->interact()
#16 /home/vagrant/Code/platform-api/app/Http/Controllers/RESTController.php(135): Ushahidi\App\Http\Controllers\RESTController->executeUsecase(Object(Illuminate\Http\Request))
#17 [internal function]: Ushahidi\App\Http\Controllers\RESTController->index(Object(Illuminate\Http\Request))
#18 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(29): call_user_func_array(Array, Array)
#19 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(87): Illuminate\Container\BoundMethod::Illuminate\Container\{closure}()
#20 /home/vagrant/Code/platform-api/vendor/illuminate/container/BoundMethod.php(31): Illuminate\Container\BoundMethod::callBoundMethod(Object(Laravel\Lumen\Application), Array, Object(Closure))
#21 /home/vagrant/Code/platform-api/vendor/illuminate/container/Container.php(549): Illuminate\Container\BoundMethod::call(Object(Laravel\Lumen\Application), Array, Array, NULL)
#22 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(373): Illuminate\Container\Container->call(Array, Array)
#23 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(339): Laravel\Lumen\Application->callControllerCallable(Array, Array)
#24 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(313): Laravel\Lumen\Application->callLumenController(Object(Ushahidi\App\Http\Controllers\API\ConfigController), 'index', Array)
#25 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(275): Laravel\Lumen\Application->callControllerAction(Array)
#26 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(255): Laravel\Lumen\Application->callActionOnArrayBasedRoute(Array)
#27 [internal function]: Laravel\Lumen\Application->Laravel\Lumen\Concerns\{closure}(Object(Illuminate\Http\Request))
#28 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#29 /home/vagrant/Code/platform-api/app/Http/Middleware/CheckForAnyScope.php(29): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#30 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(149): Ushahidi\App\Http\Middleware\CheckForAnyScope->handle(Object(Illuminate\Http\Request), Object(Closure), 'config')
#31 [internal function]: Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#32 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#33 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(102): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#34 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(410): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#35 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(256): Laravel\Lumen\Application->sendThroughPipeline(Array, Object(Closure))
#36 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(160): Laravel\Lumen\Application->handleFoundRoute(Array)
#37 [internal function]: Laravel\Lumen\Application->Laravel\Lumen\Concerns\{closure}(Object(Illuminate\Http\Request))
#38 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#39 /home/vagrant/Code/platform-api/vendor/barryvdh/laravel-cors/src/HandlePreflight.php(46): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#40 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(149): Barryvdh\Cors\HandlePreflight->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 [internal function]: Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#42 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#43 /home/vagrant/Code/platform-api/vendor/barryvdh/laravel-cors/src/HandleCors.php(59): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#44 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(149): Barryvdh\Cors\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 [internal function]: Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#46 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#47 /home/vagrant/Code/platform-api/vendor/illuminate/pipeline/Pipeline.php(102): Laravel\Lumen\Routing\Pipeline->Laravel\Lumen\Routing\{closure}(Object(Illuminate\Http\Request))
#48 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(410): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#49 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(166): Laravel\Lumen\Application->sendThroughPipeline(Array, Object(Closure))
#50 /home/vagrant/Code/platform-api/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(107): Laravel\Lumen\Application->dispatch(NULL)
#51 /home/vagrant/Code/platform-api/public/index.php(28): Laravel\Lumen\Application->run()
#52 /home/vagrant/Code/platform-api/httpdocs/index.php(4): include('/home/vagrant/C...')
#53 {main}  
