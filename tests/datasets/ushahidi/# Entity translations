# Entity translations


### Site wide configuration for available languages

Add the enabled_languages key and object

PUT http://192.168.33.110/api/v3/config/site
```
{
    "id": "site",
    "url": "http://192.168.33.110/api/v3/config/site",
    "enabled_languages": {
    	"default": "en-US",
    	"available": ["es-ES", "pt-BR"]
    },
    "name": "Deployer",
    "description": "Hello!",
    "email": "",
    "timezone": "UTC",
    "language": "en-US",
    "date_format": "n/j/Y",
    "client_url": false,
    "first_login": true,
    "tier": "free",
    "private": false,
    "allowed_privileges": [
        "read",
        "search"
    ]
}
```

## Sending a new survey with language
Use the default /forms endpoint, add support for enabled_languages.
The enabled_languages key will be required, with "default" being "en-EN" and "available" being an empty array on creation.
We will run a migration to add this field and value to all current surveys.
When we release, we will let users know of this feature through intercom so that they can go and ajust the default language manually.

POST http://192.168.33.110/api/v3/forms

```
{
    "enabled_languages": {
    	"default": "en-EN",
        "available" : []
    },
    "color": null,
    "require_approval": true,
    "everyone_can_create": false,
    "tasks": [
        {
            "label": "Post",
            "priority": 0,
            "required": false,
            "type": "post",
            "show_when_published": true,
            "task_is_internal_only": false,
            "attributes": [
                {
                    "cardinality": 0,
                    "input": "text",
                    "label": "Title",
                    "priority": 1,
                    "required": true,
                    "type": "title",
                    "options": [],
                    "config": {},
                    "form_stage_id": "interim_id_0"
                },
                {
                    "cardinality": 0,
                    "input": "text",
                    "label": "Description",
                    "priority": 2,
                    "required": true,
                    "type": "description",
                    "options": [],
                    "config": {},
                    "form_stage_id": "interim_id_1"
                }
            ],
            "is_public": true,
            "id": "interim_id_2"
        }
    ],
    "name": "Hello world",
    "description": "A survey that I plan on translating"
}
```
PUT http://192.168.33.110/api/v3/forms/{id}/translate

Receives the translated attribute fields, stages, form fields (desc/title) and the language it's being translated to.

{
    "form_fields": {
        "name": "Hola mundo",
        "description": "Una encuesta que planeo a traducir."
    },
    "stages": [
        {
            "id": 1,
            "attributes": {
                "{key}": {
                    "label": "Una etiqueta", //name
                    "instructions": "Instrucciones para el campo" //description
                }
            },
            "description": "La descripcion del stage",
            "label": "El nombre del stage"
        }
    ]
    "language": "es-ES"
}
